import{s as se,n as Z,r as re}from"./scheduler.572f10a3.js";import{S as le,i as ne,g as b,s as E,m as N,h as g,j as B,I as z,c as I,f as w,n as P,k as n,a as X,C as o,L as H,D as S,K as ae,o as K}from"./index.21ac587f.js";import{C as oe}from"./LoginLogo.2fdbc1fa.js";import{t as ie}from"./SvelteToast.svelte_svelte_type_style_lang.0ce08224.js";import{z as O}from"./index.0ec66d4d.js";function $(u){let e,s=u[2].username._errors[0]+"",i,d,t,a="X",c,m;return{c(){e=b("div"),i=N(s),d=E(),t=b("butto"),t.textContent=a,this.h()},l(r){e=g(r,"DIV",{id:!0,class:!0});var l=B(e);i=P(l,s),d=I(l),t=g(l,"BUTTO",{class:!0,for:!0,"data-svelte-h":!0}),z(t)!=="svelte-flusor"&&(t.textContent=a),l.forEach(w),this.h()},h(){n(t,"class","btn-close"),n(t,"for","login-alert"),n(e,"id","login-alert"),n(e,"class","alert alert-danger dismissible")},m(r,l){X(r,e,l),o(e,i),o(e,d),o(e,t),c||(m=S(t,"click",u[7]),c=!0)},p(r,l){l&4&&s!==(s=r[2].username._errors[0]+"")&&K(i,s)},d(r){r&&w(e),c=!1,m()}}}function ee(u){let e,s=u[2].password._errors[0]+"",i,d,t,a="X",c,m;return{c(){e=b("div"),i=N(s),d=E(),t=b("butto"),t.textContent=a,this.h()},l(r){e=g(r,"DIV",{id:!0,class:!0});var l=B(e);i=P(l,s),d=I(l),t=g(l,"BUTTO",{class:!0,for:!0,"data-svelte-h":!0}),z(t)!=="svelte-j2e93k"&&(t.textContent=a),l.forEach(w),this.h()},h(){n(t,"class","btn-close"),n(t,"for","login-alert"),n(e,"id","login-alert"),n(e,"class","alert alert-danger dismissible")},m(r,l){X(r,e,l),o(e,i),o(e,d),o(e,t),c||(m=S(t,"click",u[9]),c=!0)},p(r,l){l&4&&s!==(s=r[2].password._errors[0]+"")&&K(i,s)},d(r){r&&w(e),c=!1,m()}}}function te(u){let e,s=u[2]._errors[0]+"",i,d,t,a="X",c,m;return{c(){e=b("div"),i=N(s),d=E(),t=b("label"),t.textContent=a,this.h()},l(r){e=g(r,"DIV",{id:!0,class:!0});var l=B(e);i=P(l,s),d=I(l),t=g(l,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(t)!=="svelte-1oxwuyn"&&(t.textContent=a),l.forEach(w),this.h()},h(){n(t,"class","btn-close"),n(t,"for","login-alert"),n(e,"id","login-alert"),n(e,"class","alert alert-danger dismissible")},m(r,l){X(r,e,l),o(e,i),o(e,d),o(e,t),c||(m=S(t,"click",u[10]),c=!0)},p(r,l){l&4&&s!==(s=r[2]._errors[0]+"")&&K(i,s)},d(r){r&&w(e),c=!1,m()}}}function ue(u){var Q,W;let e,s,i,d="Felhasználó név",t,a,c,m,r,l,j="Jelszó",V,k,C,D,F,L,U,q,G,A,M="Belépés",J,x,p=((Q=u[2])==null?void 0:Q.username)&&$(u),h=((W=u[2])==null?void 0:W.password)&&ee(u),v=u[2]._errors.length>0&&te(u);return{c(){e=b("form"),s=b("div"),i=b("label"),i.textContent=d,t=E(),a=b("input"),c=E(),p&&p.c(),m=E(),r=b("div"),l=b("label"),l.textContent=j,V=E(),k=b("input"),C=E(),h&&h.c(),D=E(),v&&v.c(),F=E(),L=b("div"),U=b("a"),q=N("Regisztráció"),G=E(),A=b("button"),A.textContent=M,this.h()},l(f){e=g(f,"FORM",{method:!0});var _=B(e);s=g(_,"DIV",{class:!0});var T=B(s);i=g(T,"LABEL",{for:!0,"data-svelte-h":!0}),z(i)!=="svelte-1202mim"&&(i.textContent=d),t=I(T),a=g(T,"INPUT",{type:!0,placeholder:!0,id:!0,name:!0,class:!0}),c=I(T),p&&p.l(T),T.forEach(w),m=I(_),r=g(_,"DIV",{class:!0});var y=B(r);l=g(y,"LABEL",{for:!0,"data-svelte-h":!0}),z(l)!=="svelte-8jdufu"&&(l.textContent=j),V=I(y),k=g(y,"INPUT",{type:!0,id:!0,name:!0,class:!0}),C=I(y),h&&h.l(y),y.forEach(w),D=I(_),v&&v.l(_),F=I(_),L=g(_,"DIV",{id:!0,class:!0});var R=B(L);U=g(R,"A",{href:!0,class:!0});var Y=B(U);q=P(Y,"Regisztráció"),Y.forEach(w),G=I(R),A=g(R,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(A)!=="svelte-x49snh"&&(A.textContent=M),R.forEach(w),_.forEach(w),this.h()},h(){n(i,"for","usernameInput"),n(a,"type","text"),n(a,"placeholder","ABCEFG"),n(a,"id","usernameInput"),n(a,"name","username"),n(a,"class","input-block"),n(s,"class","form-group"),n(l,"for","passwordInput"),n(k,"type","password"),n(k,"id","passwordInput"),n(k,"name","password"),n(k,"class","input-block"),n(r,"class","form-group"),n(U,"href",u[0]),n(U,"class","paper-btn btn-secondary"),n(A,"type","submit"),n(A,"class","btn-primary"),n(L,"id","form-controls"),n(L,"class","svelte-12flfvz"),n(e,"method","get")},m(f,_){X(f,e,_),o(e,s),o(s,i),o(s,t),o(s,a),H(a,u[1].username),o(s,c),p&&p.m(s,null),o(e,m),o(e,r),o(r,l),o(r,V),o(r,k),H(k,u[1].password),o(r,C),h&&h.m(r,null),o(e,D),v&&v.m(e,null),o(e,F),o(e,L),o(L,U),o(U,q),o(L,G),o(L,A),J||(x=[S(a,"input",u[6]),S(k,"input",u[8]),S(e,"submit",ae(u[3]))],J=!0)},p(f,[_]){var T,y;_&2&&a.value!==f[1].username&&H(a,f[1].username),(T=f[2])!=null&&T.username?p?p.p(f,_):(p=$(f),p.c(),p.m(s,null)):p&&(p.d(1),p=null),_&2&&k.value!==f[1].password&&H(k,f[1].password),(y=f[2])!=null&&y.password?h?h.p(f,_):(h=ee(f),h.c(),h.m(r,null)):h&&(h.d(1),h=null),f[2]._errors.length>0?v?v.p(f,_):(v=te(f),v.c(),v.m(e,F)):v&&(v.d(1),v=null),_&1&&n(U,"href",f[0])},i:Z,o:Z,d(f){f&&w(e),p&&p.d(),h&&h.d(),v&&v.d(),J=!1,re(x)}}}function fe(u,e,s){let{regUrl:i}=e,{loginHandler:d}=e;const t={username:"",password:""};let a={_errors:[]};const c=async()=>{s(2,a={_errors:[]});const C=await oe.safeParseAsync(t);if(C.success){const D=await d(t);D!==void 0?s(2,a._errors=[D],a):ie.push("Sikeres bejelentkezés!")}else s(2,a=C.error.format())},m=C=>{C==="_errors"?s(2,a._errors=[],a):s(2,a[C]=void 0,a)};function r(){t.username=this.value,s(1,t)}const l=()=>m("username");function j(){t.password=this.value,s(1,t)}const V=()=>m("password"),k=()=>m("_errors");return u.$$set=C=>{"regUrl"in C&&s(0,i=C.regUrl),"loginHandler"in C&&s(5,d=C.loginHandler)},[i,t,a,c,m,d,r,l,j,V,k]}class he extends le{constructor(e){super(),ne(this,e,fe,ue,se,{regUrl:0,loginHandler:5})}}const ve=O.object({accessToken:O.string(),refreshToken:O.string(),expiresIn:O.number()});export{ve as A,he as L};
