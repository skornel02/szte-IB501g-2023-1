import{a as kt}from"../chunks/js.cookie.edb2da2a.js";import{C as Et}from"../chunks/CourseDto.28e601c3.js";import{z as Dt}from"../chunks/index.0ec66d4d.js";import{b as vt}from"../chunks/paths.f73f6e8d.js";import{s as Ot,f as r,a as h,g as n,h as k,L as Z,c as f,d as m,j as q,i as gt,x as t,y as rt,C as zt,M as yt,l as w,m as O,n as K,z as wt}from"../chunks/scheduler.3ae9c5b3.js";import{e as mt}from"../chunks/each.ed53a14b.js";import{S as xt,i as Mt}from"../chunks/index.4a313e9c.js";import{i as $t,g as St}from"../chunks/navigation.a1183cab.js";import{C as bt}from"../chunks/coursetypes.cef0f3cc.js";import{t as nt}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.eae3c669.js";import{E as Rt}from"../chunks/ErrorResponseDto.3330ec0e.js";const Ft=async({fetch:s})=>{const e=kt.get("oktato-token");let i=[],v=[];try{const C=await(await s(vt+"/api/courses?teachedByMe=true",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).json();i=await Dt.array(Et).parseAsync(C)}catch(g){console.error("Teacher statistics failed!",g)}try{const C=await(await s(vt+"/api/courses",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).json();v=(await Dt.array(Et).parseAsync(C)).filter(b=>!i.some(z=>z.courseCode===b.courseCode&&z.courseSemester===b.courseSemester))}catch(g){console.error("Teacher statistics failed!",g)}return{taughtCourses:i,courses:v}},Xt=Object.freeze(Object.defineProperty({__proto__:null,load:Ft},Symbol.toStringTag,{value:"Module"}));function Nt(s,e,i){const v=s.slice();return v[12]=e[i],v}function At(s,e,i){const v=s.slice();return v[12]=e[i],v}function jt(s){let e,i,v=s[12].courseCode+"",g,C,b,z=s[12].courseSemester+"",x,S,L,M=s[12].courseName+"",R,tt,$,a=s[12].hours+"",T,G,y,E=s[12].credits+"",N,F,H,A=bt(s[12].courseType)+"",j,Q,B,I=s[12].classRoomAddress+"",U,et,W=s[12].classRoomNumber+"",P,p,d,u,c="Vizsgák",_,o,V="Vizsga hirdetés",st,D,lt="Lead",Y,at,ct;function pt(){return s[6](s[12])}function Ct(){return s[7](s[12])}function Tt(){return s[8](s[12])}return{c(){e=r("tr"),i=r("td"),g=w(v),C=h(),b=r("td"),x=w(z),S=h(),L=r("td"),R=w(M),tt=h(),$=r("td"),T=w(a),G=h(),y=r("td"),N=w(E),F=h(),H=r("td"),j=w(A),Q=h(),B=r("td"),U=w(I),et=w(", "),P=w(W),p=h(),d=r("td"),u=r("button"),u.textContent=c,_=h(),o=r("button"),o.textContent=V,st=h(),D=r("button"),D.textContent=lt,Y=h(),this.h()},l(J){e=n(J,"TR",{});var l=k(e);i=n(l,"TD",{});var ut=k(i);g=O(ut,v),ut.forEach(m),C=f(l),b=n(l,"TD",{});var it=k(b);x=O(it,z),it.forEach(m),S=f(l),L=n(l,"TD",{});var dt=k(L);R=O(dt,M),dt.forEach(m),tt=f(l),$=n(l,"TD",{});var ht=k($);T=O(ht,a),ht.forEach(m),G=f(l),y=n(l,"TD",{});var ft=k(y);N=O(ft,E),ft.forEach(m),F=f(l),H=n(l,"TD",{});var _t=k(H);j=O(_t,A),_t.forEach(m),Q=f(l),B=n(l,"TD",{});var ot=k(B);U=O(ot,I),et=O(ot,", "),P=O(ot,W),ot.forEach(m),p=f(l),d=n(l,"TD",{class:!0});var X=k(d);u=n(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-rp95zb"&&(u.textContent=c),_=f(X),o=n(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(o)!=="svelte-6rv1eh"&&(o.textContent=V),st=f(X),D=n(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(D)!=="svelte-136kcrr"&&(D.textContent=lt),X.forEach(m),Y=f(l),l.forEach(m),this.h()},h(){q(u,"class","btn-small btn-secondary"),q(o,"class","btn-small"),q(D,"class","btn-small btn-danger"),q(d,"class","table-commands")},m(J,l){gt(J,e,l),t(e,i),t(i,g),t(e,C),t(e,b),t(b,x),t(e,S),t(e,L),t(L,R),t(e,tt),t(e,$),t($,T),t(e,G),t(e,y),t(y,N),t(e,F),t(e,H),t(H,j),t(e,Q),t(e,B),t(B,U),t(B,et),t(B,P),t(e,p),t(e,d),t(d,u),t(d,_),t(d,o),t(d,st),t(d,D),t(e,Y),at||(ct=[rt(u,"click",pt),rt(o,"click",Ct),rt(D,"click",Tt)],at=!0)},p(J,l){s=J,l&1&&v!==(v=s[12].courseCode+"")&&K(g,v),l&1&&z!==(z=s[12].courseSemester+"")&&K(x,z),l&1&&M!==(M=s[12].courseName+"")&&K(R,M),l&1&&a!==(a=s[12].hours+"")&&K(T,a),l&1&&E!==(E=s[12].credits+"")&&K(N,E),l&1&&A!==(A=bt(s[12].courseType)+"")&&K(j,A),l&1&&I!==(I=s[12].classRoomAddress+"")&&K(U,I),l&1&&W!==(W=s[12].classRoomNumber+"")&&K(P,W)},d(J){J&&m(e),at=!1,wt(ct)}}}function Bt(s){let e,i,v=s[12].courseCode+"",g,C,b,z=s[12].courseSemester+"",x,S,L,M=s[12].courseName+"",R,tt,$,a=s[12].hours+"",T,G,y,E=s[12].credits+"",N,F,H,A=bt(s[12].courseType)+"",j,Q,B,I=s[12].classRoomAddress+"",U,et,W=s[12].classRoomNumber+"",P,p,d,u,c="Vizsgák",_,o,V="Oktat",st,D,lt="Töröl",Y,at,ct;function pt(){return s[9](s[12])}function Ct(){return s[10](s[12])}function Tt(){return s[11](s[12])}return{c(){e=r("tr"),i=r("td"),g=w(v),C=h(),b=r("td"),x=w(z),S=h(),L=r("td"),R=w(M),tt=h(),$=r("td"),T=w(a),G=h(),y=r("td"),N=w(E),F=h(),H=r("td"),j=w(A),Q=h(),B=r("td"),U=w(I),et=w(", "),P=w(W),p=h(),d=r("td"),u=r("button"),u.textContent=c,_=h(),o=r("button"),o.textContent=V,st=h(),D=r("button"),D.textContent=lt,Y=h(),this.h()},l(J){e=n(J,"TR",{});var l=k(e);i=n(l,"TD",{});var ut=k(i);g=O(ut,v),ut.forEach(m),C=f(l),b=n(l,"TD",{});var it=k(b);x=O(it,z),it.forEach(m),S=f(l),L=n(l,"TD",{});var dt=k(L);R=O(dt,M),dt.forEach(m),tt=f(l),$=n(l,"TD",{});var ht=k($);T=O(ht,a),ht.forEach(m),G=f(l),y=n(l,"TD",{});var ft=k(y);N=O(ft,E),ft.forEach(m),F=f(l),H=n(l,"TD",{});var _t=k(H);j=O(_t,A),_t.forEach(m),Q=f(l),B=n(l,"TD",{});var ot=k(B);U=O(ot,I),et=O(ot,", "),P=O(ot,W),ot.forEach(m),p=f(l),d=n(l,"TD",{class:!0});var X=k(d);u=n(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-rp95zb"&&(u.textContent=c),_=f(X),o=n(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(o)!=="svelte-1mmuyf5"&&(o.textContent=V),st=f(X),D=n(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(D)!=="svelte-u0kdy2"&&(D.textContent=lt),X.forEach(m),Y=f(l),l.forEach(m),this.h()},h(){q(u,"class","btn-small btn-secondary"),q(o,"class","btn-small"),q(D,"class","btn-small btn-danger"),q(d,"class","table-commands")},m(J,l){gt(J,e,l),t(e,i),t(i,g),t(e,C),t(e,b),t(b,x),t(e,S),t(e,L),t(L,R),t(e,tt),t(e,$),t($,T),t(e,G),t(e,y),t(y,N),t(e,F),t(e,H),t(H,j),t(e,Q),t(e,B),t(B,U),t(B,et),t(B,P),t(e,p),t(e,d),t(d,u),t(d,_),t(d,o),t(d,st),t(d,D),t(e,Y),at||(ct=[rt(u,"click",pt),rt(o,"click",Ct),rt(D,"click",Tt)],at=!0)},p(J,l){s=J,l&1&&v!==(v=s[12].courseCode+"")&&K(g,v),l&1&&z!==(z=s[12].courseSemester+"")&&K(x,z),l&1&&M!==(M=s[12].courseName+"")&&K(R,M),l&1&&a!==(a=s[12].hours+"")&&K(T,a),l&1&&E!==(E=s[12].credits+"")&&K(N,E),l&1&&A!==(A=bt(s[12].courseType)+"")&&K(j,A),l&1&&I!==(I=s[12].classRoomAddress+"")&&K(U,I),l&1&&W!==(W=s[12].classRoomNumber+"")&&K(P,W)},d(J){J&&m(e),at=!1,wt(ct)}}}function Lt(s){let e,i,v="Kurzusok",g,C,b,z="Frissítés",x,S,L="Új kurzus",M,R,tt="Általam tartott kurzusok",$,a,T,G="<tr><th>Kód</th> <th>Szemeszter</th> <th>Név</th> <th>Óraszám</th> <th>Credit</th> <th>Típus</th> <th>Terem</th> <th>Műveletek</th></tr>",y,E,N,F,H="További kurzusok",A,j,Q,B="<tr><th>Kód</th> <th>Szemeszter</th> <th>Név</th> <th>Óraszám</th> <th>Credit</th> <th>Típus</th> <th>Terem</th> <th>Műveletek</th></tr>",I,U,et,W,P=mt(s[0].taughtCourses),p=[];for(let c=0;c<P.length;c+=1)p[c]=jt(At(s,P,c));let d=mt(s[0].courses),u=[];for(let c=0;c<d.length;c+=1)u[c]=Bt(Nt(s,d,c));return{c(){e=r("div"),i=r("h4"),i.textContent=v,g=h(),C=r("div"),b=r("button"),b.textContent=z,x=h(),S=r("a"),S.textContent=L,M=h(),R=r("h5"),R.textContent=tt,$=h(),a=r("table"),T=r("thead"),T.innerHTML=G,y=h(),E=r("tbody");for(let c=0;c<p.length;c+=1)p[c].c();N=h(),F=r("h5"),F.textContent=H,A=h(),j=r("table"),Q=r("thead"),Q.innerHTML=B,I=h(),U=r("tbody");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=n(c,"DIV",{class:!0});var _=k(e);i=n(_,"H4",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-1do8vtc"&&(i.textContent=v),g=f(_),C=n(_,"DIV",{class:!0});var o=k(C);b=n(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(b)!=="svelte-cxj7cd"&&(b.textContent=z),x=f(o),S=n(o,"A",{href:!0,class:!0,"data-svelte-h":!0}),Z(S)!=="svelte-v73qn"&&(S.textContent=L),o.forEach(m),M=f(_),R=n(_,"H5",{"data-svelte-h":!0}),Z(R)!=="svelte-5geqh0"&&(R.textContent=tt),$=f(_),a=n(_,"TABLE",{class:!0});var V=k(a);T=n(V,"THEAD",{"data-svelte-h":!0}),Z(T)!=="svelte-7bvx2k"&&(T.innerHTML=G),y=f(V),E=n(V,"TBODY",{});var st=k(E);for(let Y=0;Y<p.length;Y+=1)p[Y].l(st);st.forEach(m),V.forEach(m),N=f(_),F=n(_,"H5",{"data-svelte-h":!0}),Z(F)!=="svelte-1srfm57"&&(F.textContent=H),A=f(_),j=n(_,"TABLE",{class:!0});var D=k(j);Q=n(D,"THEAD",{"data-svelte-h":!0}),Z(Q)!=="svelte-7bvx2k"&&(Q.innerHTML=B),I=f(D),U=n(D,"TBODY",{});var lt=k(U);for(let Y=0;Y<u.length;Y+=1)u[Y].l(lt);lt.forEach(m),D.forEach(m),_.forEach(m),this.h()},h(){q(i,"class","svelte-en0jke"),q(b,"class","btn-small btn-primary"),q(S,"href","uj-kurzus"),q(S,"class","paper-btn btn-small btn-secondary"),q(C,"class","toolbar"),q(a,"class","table-hover"),q(j,"class","table-hover"),q(e,"class","container")},m(c,_){gt(c,e,_),t(e,i),t(e,g),t(e,C),t(C,b),t(C,x),t(C,S),t(e,M),t(e,R),t(e,$),t(e,a),t(a,T),t(a,y),t(a,E);for(let o=0;o<p.length;o+=1)p[o]&&p[o].m(E,null);t(e,N),t(e,F),t(e,A),t(e,j),t(j,Q),t(j,I),t(j,U);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(U,null);et||(W=rt(b,"click",s[1]),et=!0)},p(c,[_]){if(_&53){P=mt(c[0].taughtCourses);let o;for(o=0;o<P.length;o+=1){const V=At(c,P,o);p[o]?p[o].p(V,_):(p[o]=jt(V),p[o].c(),p[o].m(E,null))}for(;o<p.length;o+=1)p[o].d(1);p.length=P.length}if(_&45){d=mt(c[0].courses);let o;for(o=0;o<d.length;o+=1){const V=Nt(c,d,o);u[o]?u[o].p(V,_):(u[o]=Bt(V),u[o].c(),u[o].m(U,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=d.length}},i:zt,o:zt,d(c){c&&m(e),yt(p,c),yt(u,c),et=!1,W()}}}function Ht(s,e,i){let{data:v}=e;const g=()=>$t(),C=async(a,T,G)=>{const y=kt.get("oktato-token"),E=G==="subscribe"?"POSt":"DELETE",N=G==="subscribe"?"feliratkozás":"leiratkozás",F=await fetch(`${vt}/api/course-teach?code=${a}&semester=${T}`,{method:E,headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(F.status===204)g(),nt.push(`Sikeresen ${N} müvelet!`);else{const H=await F.json(),A=await Rt.safeParseAsync(H);A.success?nt.push(A.data.errorMessage):nt.push("Sikertelen törlés müvelet!")}},b=async(a,T)=>{const G=kt.get("oktato-token"),y=await fetch(`${vt}/api/courses?code=${a}&semester=${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(y.status===204)g(),nt.push("Sikeresen törlés müvelet!");else{const E=await y.json(),N=await Rt.safeParseAsync(E);N.success?nt.push(N.data.errorMessage):nt.push("Sikertelen törlés müvelet!")}},z=async(a,T)=>{St("uj-vizsga?course="+a+"|"+T)},x=async(a,T)=>{St("vizsga?course="+a+"|"+T)},S=a=>x(a.courseCode,a.courseSemester),L=a=>z(a.courseCode,a.courseSemester),M=a=>C(a.courseCode,a.courseSemester,"unsubscribe"),R=a=>x(a.courseCode,a.courseSemester),tt=a=>C(a.courseCode,a.courseSemester,"subscribe"),$=a=>b(a.courseCode,a.courseSemester);return s.$$set=a=>{"data"in a&&i(0,v=a.data)},[v,g,C,b,z,x,S,L,M,R,tt,$]}class Zt extends xt{constructor(e){super(),Mt(this,e,Ht,Lt,Ot,{data:0})}}export{Zt as component,Xt as universal};
