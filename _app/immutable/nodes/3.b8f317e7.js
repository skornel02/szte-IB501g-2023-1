import{s as z,n as S}from"../chunks/scheduler.e108d1fd.js";import{S as A,i as F,g as $,h,y as H,k as v,a as j,f,s as L,r as b,j as T,c as C,u as D,l as R,x as p,v as k,d as E,t as q,w as I}from"../chunks/index.a8e6cd80.js";import{b as P}from"../chunks/paths.0dea3c50.js";import{L as U,U as J,E as O}from"../chunks/usertypes.4da39196.js";import{L as M,a as N}from"../chunks/LoginLogo.465aa94c.js";function B(d){let e,a="Diák hitel 3 most már elérhető!";return{c(){e=$("div"),e.textContent=a,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-19qhtb4"&&(e.textContent=a),this.h()},h(){v(e,"class","alert alert-warning svelte-q3eogl")},m(s,r){j(s,e,r)},p:S,i:S,o:S,d(s){s&&f(e)}}}class G extends A{constructor(e){super(),F(this,e,null,B,z,{})}}function K(d){let e,a,s,r,l="Hallgatói belépés",u,n,g,o,_,c,x,m,y;return n=new U({props:{regUrl:`${P}/kozos/regisztracio`,loginHandler:d[0]}}),o=new M({}),c=new G({}),m=new N({}),{c(){e=$("div"),a=$("div"),s=$("div"),r=$("h4"),r.textContent=l,u=L(),b(n.$$.fragment),g=L(),b(o.$$.fragment),_=L(),b(c.$$.fragment),x=L(),b(m.$$.fragment),this.h()},l(t){e=h(t,"DIV",{class:!0});var i=T(e);a=h(i,"DIV",{class:!0,style:!0});var V=T(a);s=h(V,"DIV",{class:!0});var w=T(s);r=h(w,"H4",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-iu1xvd"&&(r.textContent=l),u=C(w),D(n.$$.fragment,w),w.forEach(f),V.forEach(f),g=C(i),D(o.$$.fragment,i),i.forEach(f),_=C(t),D(c.$$.fragment,t),x=C(t),D(m.$$.fragment,t),this.h()},h(){v(r,"class","card-title"),v(s,"class","card-body svelte-1uctxqa"),v(a,"class","card svelte-1uctxqa"),R(a,"width","20rem"),v(e,"class","container logo-container svelte-1uctxqa")},m(t,i){j(t,e,i),p(e,a),p(a,s),p(s,r),p(s,u),k(n,s,null),p(e,g),k(o,e,null),j(t,_,i),k(c,t,i),j(t,x,i),k(m,t,i),y=!0},p:S,i(t){y||(E(n.$$.fragment,t),E(o.$$.fragment,t),E(c.$$.fragment,t),E(m.$$.fragment,t),y=!0)},o(t){q(n.$$.fragment,t),q(o.$$.fragment,t),q(c.$$.fragment,t),q(m.$$.fragment,t),y=!1},d(t){t&&(f(e),f(_),f(x)),I(n),I(o),I(c,t),I(m,t)}}}function Q(d,e,a){let{data:s}=e;const r=async l=>{const u={...l,userType:J.Student};try{const n=await fetch("/api/check-auth",{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}});if(n.status===204)window.location.href=`${P}/hallgato/kezdolap`;else{const g=await n.json(),o=await O.safeParseAsync(g);return o.success?o.data.errorMessage:"Ismeretlen hiba történt!"}}catch(n){return console.error(n),"Ismeretlen hiba történt!"}};return d.$$set=l=>{"data"in l&&a(1,s=l.data)},[r,s]}class et extends A{constructor(e){super(),F(this,e,Q,K,z,{data:1})}}export{et as component};
