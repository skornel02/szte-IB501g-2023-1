import{a as zt}from"../chunks/js.cookie.edb2da2a.js";import{C as vt}from"../chunks/CourseDto.28e601c3.js";import{z as bt}from"../chunks/index.0ec66d4d.js";import{b as ft}from"../chunks/paths.2b30dd4f.js";import{s as St,n as Tt}from"../chunks/scheduler.572f10a3.js";import{S as Nt,i as yt,g as r,s as f,h as n,j as C,I as Z,c as _,f as d,k as G,a as _t,C as t,D as mt,J as pt,m as R,n as A,o as w}from"../chunks/index.21ac587f.js";import{e as dt}from"../chunks/each.73a1c622.js";import{i as Rt}from"../chunks/navigation.7751a1cf.js";import{C as it}from"../chunks/coursetypes.cef0f3cc.js";import{t as Ct}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.0ce08224.js";const At=async({fetch:a})=>{const e=zt.get("oktato-token");let u=[],i=[];try{const b=await(await a(ft+"/api/courses?teachedByMe=true",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).json();u=await bt.array(vt).parseAsync(b)}catch(k){console.error("Teacher statistics failed!",k)}try{const b=await(await a(ft+"/api/courses",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).json();i=(await bt.array(vt).parseAsync(b)).filter(m=>!u.some(E=>E.courseCode===m.courseCode&&E.courseSemester===m.courseSemester))}catch(k){console.error("Teacher statistics failed!",k)}return{taughtCourses:u,courses:i}},It=Object.freeze(Object.defineProperty({__proto__:null,load:At},Symbol.toStringTag,{value:"Module"}));function kt(a,e,u){const i=a.slice();return i[5]=e[u],i}function gt(a,e,u){const i=a.slice();return i[5]=e[u],i}function Et(a){let e,u,i=a[5].courseCode+"",k,b,m,E=a[5].courseSemester+"",T,D,B,j=a[5].courseName+"",z,Y,O,g=a[5].hours+"",H,tt,U,S=a[5].credits+"",J,I,K,x=it(a[5].courseType)+"",N,P,y,q=a[5].classRoomAddress+"",L,W,V=a[5].classRoomNumber+"",M,v,p,c,o="Vizsga hirdetés",h,s,$="Lead",et,Q,at;function X(){return a[3](a[5])}return{c(){e=r("tr"),u=r("td"),k=R(i),b=f(),m=r("td"),T=R(E),D=f(),B=r("td"),z=R(j),Y=f(),O=r("td"),H=R(g),tt=f(),U=r("td"),J=R(S),I=f(),K=r("td"),N=R(x),P=f(),y=r("td"),L=R(q),W=R(", "),M=R(V),v=f(),p=r("td"),c=r("button"),c.textContent=o,h=f(),s=r("button"),s.textContent=$,et=f(),this.h()},l(F){e=n(F,"TR",{});var l=C(e);u=n(l,"TD",{});var ot=C(u);k=A(ot,i),ot.forEach(d),b=_(l),m=n(l,"TD",{});var rt=C(m);T=A(rt,E),rt.forEach(d),D=_(l),B=n(l,"TD",{});var nt=C(B);z=A(nt,j),nt.forEach(d),Y=_(l),O=n(l,"TD",{});var ct=C(O);H=A(ct,g),ct.forEach(d),tt=_(l),U=n(l,"TD",{});var ut=C(U);J=A(ut,S),ut.forEach(d),I=_(l),K=n(l,"TD",{});var ht=C(K);N=A(ht,x),ht.forEach(d),P=_(l),y=n(l,"TD",{});var st=C(y);L=A(st,q),W=A(st,", "),M=A(st,V),st.forEach(d),v=_(l),p=n(l,"TD",{class:!0});var lt=C(p);c=n(lt,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(c)!=="svelte-7lkach"&&(c.textContent=o),h=_(lt),s=n(lt,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-136kcrr"&&(s.textContent=$),lt.forEach(d),et=_(l),l.forEach(d),this.h()},h(){G(c,"class","btn-small"),G(s,"class","btn-small btn-danger"),G(p,"class","table-commands")},m(F,l){_t(F,e,l),t(e,u),t(u,k),t(e,b),t(e,m),t(m,T),t(e,D),t(e,B),t(B,z),t(e,Y),t(e,O),t(O,H),t(e,tt),t(e,U),t(U,J),t(e,I),t(e,K),t(K,N),t(e,P),t(e,y),t(y,L),t(y,W),t(y,M),t(e,v),t(e,p),t(p,c),t(p,h),t(p,s),t(e,et),Q||(at=mt(s,"click",X),Q=!0)},p(F,l){a=F,l&1&&i!==(i=a[5].courseCode+"")&&w(k,i),l&1&&E!==(E=a[5].courseSemester+"")&&w(T,E),l&1&&j!==(j=a[5].courseName+"")&&w(z,j),l&1&&g!==(g=a[5].hours+"")&&w(H,g),l&1&&S!==(S=a[5].credits+"")&&w(J,S),l&1&&x!==(x=it(a[5].courseType)+"")&&w(N,x),l&1&&q!==(q=a[5].classRoomAddress+"")&&w(L,q),l&1&&V!==(V=a[5].classRoomNumber+"")&&w(M,V)},d(F){F&&d(e),Q=!1,at()}}}function Dt(a){let e,u,i=a[5].courseCode+"",k,b,m,E=a[5].courseSemester+"",T,D,B,j=a[5].courseName+"",z,Y,O,g=a[5].hours+"",H,tt,U,S=a[5].credits+"",J,I,K,x=it(a[5].courseType)+"",N,P,y,q=a[5].classRoomAddress+"",L,W,V=a[5].classRoomNumber+"",M,v,p,c,o="Oktat",h,s,$="Töröl",et,Q,at;function X(){return a[4](a[5])}return{c(){e=r("tr"),u=r("td"),k=R(i),b=f(),m=r("td"),T=R(E),D=f(),B=r("td"),z=R(j),Y=f(),O=r("td"),H=R(g),tt=f(),U=r("td"),J=R(S),I=f(),K=r("td"),N=R(x),P=f(),y=r("td"),L=R(q),W=R(", "),M=R(V),v=f(),p=r("td"),c=r("button"),c.textContent=o,h=f(),s=r("button"),s.textContent=$,et=f(),this.h()},l(F){e=n(F,"TR",{});var l=C(e);u=n(l,"TD",{});var ot=C(u);k=A(ot,i),ot.forEach(d),b=_(l),m=n(l,"TD",{});var rt=C(m);T=A(rt,E),rt.forEach(d),D=_(l),B=n(l,"TD",{});var nt=C(B);z=A(nt,j),nt.forEach(d),Y=_(l),O=n(l,"TD",{});var ct=C(O);H=A(ct,g),ct.forEach(d),tt=_(l),U=n(l,"TD",{});var ut=C(U);J=A(ut,S),ut.forEach(d),I=_(l),K=n(l,"TD",{});var ht=C(K);N=A(ht,x),ht.forEach(d),P=_(l),y=n(l,"TD",{});var st=C(y);L=A(st,q),W=A(st,", "),M=A(st,V),st.forEach(d),v=_(l),p=n(l,"TD",{class:!0});var lt=C(p);c=n(lt,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(c)!=="svelte-1mmuyf5"&&(c.textContent=o),h=_(lt),s=n(lt,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-zxhc8p"&&(s.textContent=$),lt.forEach(d),et=_(l),l.forEach(d),this.h()},h(){G(c,"class","btn-small"),G(s,"class","btn-small btn-danger"),G(p,"class","table-commands")},m(F,l){_t(F,e,l),t(e,u),t(u,k),t(e,b),t(e,m),t(m,T),t(e,D),t(e,B),t(B,z),t(e,Y),t(e,O),t(O,H),t(e,tt),t(e,U),t(U,J),t(e,I),t(e,K),t(K,N),t(e,P),t(e,y),t(y,L),t(y,W),t(y,M),t(e,v),t(e,p),t(p,c),t(p,h),t(p,s),t(e,et),Q||(at=mt(c,"click",X),Q=!0)},p(F,l){a=F,l&1&&i!==(i=a[5].courseCode+"")&&w(k,i),l&1&&E!==(E=a[5].courseSemester+"")&&w(T,E),l&1&&j!==(j=a[5].courseName+"")&&w(z,j),l&1&&g!==(g=a[5].hours+"")&&w(H,g),l&1&&S!==(S=a[5].credits+"")&&w(J,S),l&1&&x!==(x=it(a[5].courseType)+"")&&w(N,x),l&1&&q!==(q=a[5].classRoomAddress+"")&&w(L,q),l&1&&V!==(V=a[5].classRoomNumber+"")&&w(M,V)},d(F){F&&d(e),Q=!1,at()}}}function Bt(a){let e,u,i="Kurzusok",k,b,m,E="Frissítés",T,D,B="Új kurzus",j,z,Y="Általam tartott kurzusok",O,g,H,tt="<tr><th>Kód</th> <th>Szemeszter</th> <th>Név</th> <th>Óraszám</th> <th>Credit</th> <th>Típus</th> <th>Terem</th> <th>Műveletek</th></tr>",U,S,J,I,K="További kurzusok",x,N,P,y="<tr><th>Kód</th> <th>Szemeszter</th> <th>Név</th> <th>Óraszám</th> <th>Credit</th> <th>Típus</th> <th>Terem</th> <th>Műveletek</th></tr>",q,L,W,V,M=dt(a[0].taughtCourses),v=[];for(let o=0;o<M.length;o+=1)v[o]=Et(gt(a,M,o));let p=dt(a[0].courses),c=[];for(let o=0;o<p.length;o+=1)c[o]=Dt(kt(a,p,o));return{c(){e=r("div"),u=r("h4"),u.textContent=i,k=f(),b=r("div"),m=r("button"),m.textContent=E,T=f(),D=r("a"),D.textContent=B,j=f(),z=r("h5"),z.textContent=Y,O=f(),g=r("table"),H=r("thead"),H.innerHTML=tt,U=f(),S=r("tbody");for(let o=0;o<v.length;o+=1)v[o].c();J=f(),I=r("h5"),I.textContent=K,x=f(),N=r("table"),P=r("thead"),P.innerHTML=y,q=f(),L=r("tbody");for(let o=0;o<c.length;o+=1)c[o].c();this.h()},l(o){e=n(o,"DIV",{class:!0});var h=C(e);u=n(h,"H4",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-1do8vtc"&&(u.textContent=i),k=_(h),b=n(h,"DIV",{class:!0});var s=C(b);m=n(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-cxj7cd"&&(m.textContent=E),T=_(s),D=n(s,"A",{href:!0,class:!0,"data-svelte-h":!0}),Z(D)!=="svelte-v73qn"&&(D.textContent=B),s.forEach(d),j=_(h),z=n(h,"H5",{"data-svelte-h":!0}),Z(z)!=="svelte-5geqh0"&&(z.textContent=Y),O=_(h),g=n(h,"TABLE",{class:!0});var $=C(g);H=n($,"THEAD",{"data-svelte-h":!0}),Z(H)!=="svelte-7bvx2k"&&(H.innerHTML=tt),U=_($),S=n($,"TBODY",{});var et=C(S);for(let X=0;X<v.length;X+=1)v[X].l(et);et.forEach(d),$.forEach(d),J=_(h),I=n(h,"H5",{"data-svelte-h":!0}),Z(I)!=="svelte-1srfm57"&&(I.textContent=K),x=_(h),N=n(h,"TABLE",{class:!0});var Q=C(N);P=n(Q,"THEAD",{"data-svelte-h":!0}),Z(P)!=="svelte-7bvx2k"&&(P.innerHTML=y),q=_(Q),L=n(Q,"TBODY",{});var at=C(L);for(let X=0;X<c.length;X+=1)c[X].l(at);at.forEach(d),Q.forEach(d),h.forEach(d),this.h()},h(){G(u,"class","svelte-en0jke"),G(m,"class","btn-small btn-primary"),G(D,"href","uj-kurzus"),G(D,"class","paper-btn btn-small btn-secondary"),G(b,"class","toolbar"),G(g,"class","table-hover"),G(N,"class","table-hover"),G(e,"class","container")},m(o,h){_t(o,e,h),t(e,u),t(e,k),t(e,b),t(b,m),t(b,T),t(b,D),t(e,j),t(e,z),t(e,O),t(e,g),t(g,H),t(g,U),t(g,S);for(let s=0;s<v.length;s+=1)v[s]&&v[s].m(S,null);t(e,J),t(e,I),t(e,x),t(e,N),t(N,P),t(N,q),t(N,L);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(L,null);W||(V=mt(m,"click",a[1]),W=!0)},p(o,[h]){if(h&5){M=dt(o[0].taughtCourses);let s;for(s=0;s<M.length;s+=1){const $=gt(o,M,s);v[s]?v[s].p($,h):(v[s]=Et($),v[s].c(),v[s].m(S,null))}for(;s<v.length;s+=1)v[s].d(1);v.length=M.length}if(h&5){p=dt(o[0].courses);let s;for(s=0;s<p.length;s+=1){const $=kt(o,p,s);c[s]?c[s].p($,h):(c[s]=Dt($),c[s].c(),c[s].m(L,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=p.length}},i:Tt,o:Tt,d(o){o&&d(e),pt(v,o),pt(c,o),W=!1,V()}}}function jt(a,e,u){let{data:i}=e;const k=()=>Rt(),b=async(T,D,B)=>{const j=zt.get("oktato-token"),z=B==="subscribe"?"POSt":"DELETE",Y=B==="subscribe"?"feliratkozás":"leiratkozás";(await fetch(`${ft}/api/course-teach?code=${T}&semester=${D}`,{method:z,headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}})).status===204?(k(),Ct.push(`Sikeresen ${Y} müvelet!`)):Ct.push(`Sikertelen ${Y} müvelet!`)},m=T=>b(T.courseCode,T.courseSemester,"unsubscribe"),E=T=>b(T.courseCode,T.courseSemester,"subscribe");return a.$$set=T=>{"data"in T&&u(0,i=T.data)},[i,k,b,m,E]}class Kt extends Nt{constructor(e){super(),yt(this,e,jt,Bt,St,{data:0})}}export{Kt as component,It as universal};
